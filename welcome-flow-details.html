<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="see-details-styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap"
        rel="stylesheet">
    <title>Document</title>
</head>

<body>
    <header>
        <div class="container">
            <div class="brand"><a href="/">Malik Hall</a></div>
            <div class="menu">
                <nav>
                    <a href="/#skills-section">Skills</a>
                    <a href="/#about-section">About</a>
                    <a href="/#projects-section">Projects</a>
                    <a id="contact" href="mailto:malikhall247@gmail.com">
                        <span class="contact-icon"><img src="./assets/send.png" alt="mail icon"></span>
                        <span>Let's Connect</span>
                    </a>
                </nav>
            </div>
            <button id="menuToggle"><img id="menuIcon" src="./assets/menu.png" alt="mobile menu"></button>
        </div>



        <div id="mobileMenu">
            <nav>
                <a href="#skills-section">Skills</a>
                <a href="#about-section">About</a>
                <a href="#projects-section">Projects</a>
                <a id="contact" href="mailto:malikhall247@gmail.com">
                    <span class="contact-icon"><img src="./assets/send.png" alt="mail icon"></span>
                    <span>Let's Connect</span>
                </a>
            </nav>
        </div>

    </header>


    <section class="details-section">
        <div class="headline">
            <div class="tags">
                <span class="tag">Figma</span>
                <span class="tag">Google Docs</span>
                <span class="tag">Really Good Emails</span>
                <span class="tag">Lifecycle Strategy</span>
            </div>
            <h1>YoungLA: 8-Email Welcome Flow + Pop-Up Form</h1>
            <p>An 8-email welcome flow and onsite pop-up form built to introduce new visitors to YoungLA, build trust
                quickly, and guide first-time customers toward their first purchase. Designed with a clean structure,
                clear messaging, and an audience-focused approach.</p>

            <a class="see-project-link" href="./landing-page/indexthree.html" target="_blank">
                <span class="button-icon"><img src="./assets/next-white.png" alt="arrow icon"></span>
                <span class="button-text">View Project</span>
            </a>

        </div>
        <div class="main-container section-wrapper">

            <div class="text-content">
                <h2>Project Overview</h2>
                <p style="margin-bottom: 20px;">This project started by understanding YoungLA’s audience, people who
                    care about fitness, self-improvement, and looking good both inside and outside of the gym. Because
                    YoungLA’s emails are very image-heavy, I wanted to create a flow that still matched their visual
                    energy but was more accessible, easier to read, and optimized for a wider range of customers.</p>
                <p style="margin-bottom: 20px;">Once the audience and voice were defined, I outlined the structure of
                    the welcome flow and mapped out what each email needed to achieve. I wrote initial copy frameworks
                    in Google Docs to establish a clear hierarchy for each message. From there, I reviewed similar
                    brands and examples on ReallyGoodEmails.com to get inspiration for layouts that matched each email’s
                    purpose. After the messaging and hierarchy were solid, I moved into Figma to design the full set.
                </p>
                <p style="margin-bottom: 20px;">Before the welcome flow begins, I created a pop-up form designed to
                    capture new visitors entering from ads or social media. The form’s timing, targeting, and messaging
                    were intentionally simple to reduce friction and make sure it only showed to the right people at the
                    right time.</p>
                <p style="margin-bottom: 20px;">Each email in the flow has a specific job: introduce the brand, build
                    connection, highlight bestsellers, overcome objections, introduce urgency, and give a final personal
                    reminder. The layout of the flow is intentional and gradually gives subscribers the information they
                    need to feel confident purchasing for the first time.</p>
                <p>Overall, this project shows how I approach lifecycle strategy, copy structure, audience
                    understanding, and visual hierarchy — creating a complete experience that feels thoughtful and easy
                    to navigate.</p>
            </div>

            <div class="text-content">
                <h2>Key Highlights</h2>
                <div class="highlight-container">

                    <div class="highlight">
                        <div class="icon"><img src="./assets/correct.png" alt="checkmark"></div>
                        <div class="highlight-text-content">
                            <p>Designed a <span style="font-weight: 700;">complete, 8-email welcome flow</span> tailored
                                to YoungLA’s audience</p>
                        </div>
                    </div>
                    <div class="highlight">
                        <div class="icon"><img src="./assets/correct.png" alt="checkmark"></div>
                        <div class="highlight-text-content">
                            <p>Built <span style="font-weight: 700;">wireframes, messaging structure, and high-fidelity
                                    designs</span> across the entire journey</p>
                        </div>
                    </div>
                    <div class="highlight">
                        <div class="icon"><img src="./assets/correct.png" alt="checkmark"></div>
                        <div class="highlight-text-content">
                            <p>Created a <span style="font-weight: 700;">targeted pop-up form</span> with thoughtful
                                <span style="font-weight: 700;">timing, triggers, and testing plans</span>
                            </p>
                        </div>
                    </div>
                    <div class="highlight">
                        <div class="icon"><img src="./assets/correct.png" alt="checkmark"></div>
                        <div class="highlight-text-content">
                            <p>Used <span style="font-weight: 700;">audience insights</span> and <span
                                    style="font-weight: 700;">lifecycle best practices</span> to guide each email’s
                                purpose</p>
                        </div>
                    </div>
                    <div class="highlight">
                        <div class="icon"><img src="./assets/correct.png" alt="checkmark"></div>
                        <div class="highlight-text-content">
                            <p>Crafted layouts focused on <span style="font-weight: 700;">clarity, accessibility, and
                                    clean visual hierarchy</span></p>
                        </div>
                    </div>
                    <div class="highlight">
                        <div class="icon"><img src="./assets/correct.png" alt="checkmark"></div>
                        <div class="highlight-text-content">
                            <p>Balanced <span style="font-weight: 700;">YoungLA’s graphic-heavy brand style</span> with
                                <span style="font-weight: 700;">readability and structure</span>
                            </p>
                        </div>
                    </div>
                    <div class="highlight">
                        <div class="icon"><img src="./assets/correct.png" alt="checkmark"></div>
                        <div class="highlight-text-content">
                            <p>Demonstrates <span style="font-weight: 700;">lifecycle strategy, UX thinking, and
                                    end-to-end execution</span></p>
                        </div>
                    </div>

                </div>

            </div>



        </div>

        <div class="journey-map-container">
            <div class="design-title">Welcome Journey Map</div>
            <div class="journey-map-wrapper">
                <div class="journey-steps">
                    <div class="journey-step">
                        Popup Form
                    </div>
                    <div class="journey-step">
                        <span>01</span>
                        Welcome & Offer
                    </div>
                    <div class="journey-step">
                        <span>02</span>
                        Our Story
                    </div>
                    <div class="journey-step">
                        <span>03</span>
                        Bestsellers
                    </div>
                    <div class="journey-step">
                        <span>04</span>
                        Hurry (Urgency + Testimonials)
                    </div>
                    <div class="journey-step">
                        <span>05</span>
                        FAQS
                    </div>
                    <div class="journey-step">
                        <span>06</span>
                        Testimonials (Social Proof)
                    </div>
                    <div class="journey-step">
                        <span>07</span>
                        Two Days Left
                    </div>
                    <div class="journey-step">
                        <span>08</span>
                        Final Reminder from Founder
                    </div>

                </div>
            </div>
        </div>

        <div class="flow-block">
            <h3 class="flow-block-title">Pop-Up Form: Capturing New Visitors</h3>
            <p class="flow-block-intro">
                Before the welcome flow begins, I designed a pop-up form for new visitors coming from ads and social.
                The goal is to capture emails without interrupting checkout, using timing, targeting, and a simple
                incentive to kick off the sequence.
            </p>

            <div class="flow-block-body">
                <div class="flow-block-column">
                    <h4 class="flow-block-subtitle">Strategy</h4>
                    <ul class="flow-block-list">
                        <li>Target only new visitors. Hide for existing subscribers and customers in checkout.</li>
                        <li>Trigger after a <strong>5–7 second delay</strong> or <strong>50% scroll</strong> to reduce
                            annoyance.</li>
                        <li>Limit views so people who’ve seen it don’t see it again for <strong>15 days</strong>.</li>
                    </ul>
                </div>

                <div class="flow-block-column">
                    <h4 class="flow-block-subtitle">Testing & Optimization</h4>
                    <ul class="flow-block-list">
                        <li>Experiment with incentives (15% off vs. alternative offers).</li>
                        <li>Test layout: side-by-side image and text vs. text over background image.</li>
                        <li>Try adding short supporting copy vs. keeping it purely offer-based.</li>
                    </ul>
                </div>
            </div>

            <!-- View Pop-Up button (uses the same modal) -->
            <a class="modal-view-email-btn view-email-btn" 
                data-email-desktop="./assets/yla-popup-desktop.jpg"
                data-email-mobile="./assets/yla-popup-mobile.jpg">
                View Pop-Up
            </a>
        </div>

        <div class="email-breakdown-container">
            <div class="design-title">Email Breakdowns</div>
            <div class="emails-list">
                <!-- Email 1 -->
                <article class="email-card">
                    <button class="email-card-header" type="button">
                        <div class="email-meta">
                            <div class="email-title">Email 1: Welcome & Brand Story</div>
                            <div class="email-summary">Introduces YoungLA, delivers the discount, and points subscribers
                                to key products to start browsing.</div>
                        </div>
                        <div class="email-toggle-icon">›</div>
                    </button>
                    <div class="email-body">
                        <div class="email-body-inner">
                            <h4>Purpose</h4>
                            <p style="margin-bottom: 16px;">Give a strong, simple introduction and deliver the incentive
                                immediately.</p>

                            <h4>Content Strategy</h4>
                            <ul>
                                <li>Highlight the discount.</li>
                                <li>Introduce key selling points.</li>
                                <li>Show social proof.</li>
                                <li>Feature bestsellers</li>
                            </ul>

                            <h4>Primary Goal</h4>
                            <p>Get subscribers back on the site quickly to explore products and use their discount.</p>
                            <a class="modal-view-email-btn" data-email-desktop="./assets/yla-welcome-email-1.jpg"
                                data-email-mobile="./assets/yla-welcome-email-1-mobile.jpg"
                                data-email-subject="Welcome to YoungLA! Here’s 15% Off to Get Started"
                                data-email-preheader="Premium quality, affordable prices. Use code WELCOME15 for 15% off.">
                                View Email
                            </a>
                        </div>
                    </div>
                </article>

                <!-- Email 2 -->
                <article class="email-card">
                    <button class="email-card-header" type="button">
                        <div class="email-meta">
                            <div class="email-title">Email 2: Our Story</div>
                            <div class="email-summary">Shares the brand’s background and mission to build trust and
                                emotional connection.</div>
                        </div>
                        <div class="email-toggle-icon">›</div>
                    </button>
                    <div class="email-body">
                        <div class="email-body-inner">
                            <h4>Purpose</h4>
                            <p style="margin-bottom: 16px;">Build a personal connection by explaining the brand’s
                                background and mission.</p>

                            <h4>Content Strategy</h4>
                            <ul>
                                <li>Share the founding story.</li>
                                <li>Mission statement.</li>
                                <li>Human face behind the brand (if possible).</li>
                            </ul>

                            <h4>Primary Goal</h4>
                            <p>Strengthen trust and reinforce why the subscriber should feel good about buying from
                                YoungLA.</p>
                            <a class="modal-view-email-btn" data-email-desktop="./assets/yla-welcome-email-2.jpg"
                                data-email-mobile="./assets/yla-welcome-email-2-mobile.jpg"
                                data-email-subject="The Story Behind YoungLA: Two brothers, one mission"
                                data-email-preheader="Discover our journey and take 15% off your first order.">
                                View Email
                            </a>
                        </div>
                    </div>
                </article>

                <!-- Email 3 -->
                <article class="email-card">
                    <button class="email-card-header" type="button">
                        <div class="email-meta">
                            <div class="email-title">Email 3: Bestsellers</div>
                            <div class="email-summary">Shows off top-selling products and explains what makes them stand
                                out from competitors.</div>
                        </div>
                        <div class="email-toggle-icon">›</div>
                    </button>
                    <div class="email-body">
                        <div class="email-body-inner">
                            <h4>Purpose</h4>
                            <p style="margin-bottom: 16px;">Highlight the products customers love most and explain what
                                makes them stand out.</p>

                            <h4>Content Strategy</h4>
                            <ul>
                                <li>Present top items.</li>
                                <li>Explain clear features, benefits, and differentiation from competitors.</li>
                            </ul>

                            <h4>Primary Goal</h4>
                            <p>Drive traffic to the bestselling collection and give subscribers meaningful reasons to
                                click.</p>
                            <a class="modal-view-email-btn" data-email-desktop="./assets/yla-welcome-email-3.jpg"
                                data-email-mobile="./assets/yla-welcome-email-3-mobile.jpg"
                                data-email-subject="Crafted with care, designed for you. Explore our top picks."
                                data-email-preheader="Our Bestsellers Are Waiting, and So Is Your 15% Off">
                                View Email
                            </a>
                        </div>
                    </div>
                </article>

                <!-- Email 4 -->
                <article class="email-card">
                    <button class="email-card-header" type="button">
                        <div class="email-meta">
                            <div class="email-title">Email 4: Hurry</div>
                            <div class="email-summary">Adds urgency around the discount and backs it up with
                                testimonials and risk reversals.</div>
                        </div>
                        <div class="email-toggle-icon">›</div>
                    </button>
                    <div class="email-body">
                        <div class="email-body-inner">
                            <h4>Purpose</h4>
                            <p style="margin-bottom: 16px;">Introduce light urgency to encourage subscribers to use
                                their discount.</p>

                            <h4>Content Strategy</h4>
                            <ul>
                                <li>Add urgency cues.</li>
                                <li>Risk reversals.</li>
                                <li>Strong testimonials to build confidence</li>
                            </ul>

                            <h4>Primary Goal</h4>
                            <p>Move subscribers from consideration to action with a clear, time-sensitive reminder.</p>
                            <p>Drive traffic to the bestselling collection and give subscribers meaningful reasons to
                                click.</p>
                            <a class="modal-view-email-btn" data-email-desktop="./assets/yla-welcome-email-4.jpg"
                                data-email-mobile="./assets/yla-welcome-email-4-mobile.jpg"
                                data-email-subject="Your Discount Is Fading Fast—Grab 15% Off Now"
                                data-email-preheader="Your chance to save big is slipping away. Act now!">
                                View Email
                            </a>
                        </div>
                    </div>
                </article>

                <!-- Email 5 -->
                <article class="email-card">
                    <button class="email-card-header" type="button">
                        <div class="email-meta">
                            <div class="email-title">Email 5: FAQs</div>
                            <div class="email-summary">Answers common questions to remove friction and make buying feel
                                straightforward.</div>
                        </div>
                        <div class="email-toggle-icon">›</div>
                    </button>
                    <div class="email-body">
                        <div class="email-body-inner">
                            <h4>Purpose</h4>
                            <p style="margin-bottom: 16px;">Remove any remaining friction or uncertainty preventing a
                                purchase.</p>

                            <h4>Content Strategy</h4>
                            <ul>
                                <li>Surface the most common questions and answer them clearly and concisely.</li>
                            </ul>

                            <h4>Primary Goal</h4>
                            <p>Address objections and make the path to purchase feel easier and more straightforward.
                            </p>
                            <a class="modal-view-email-btn" data-email-desktop="./assets/yla-welcome-email-5.jpg"
                                data-email-mobile="./assets/yla-welcome-email-5-mobile.jpg"
                                data-email-subject="Answering Your FAQs. We've Got You!"
                                data-email-preheader="We've put together the top FAQs to help you out.">
                                View Email
                            </a>
                        </div>
                    </div>
                </article>

                <!-- Email 6 -->
                <article class="email-card">
                    <button class="email-card-header" type="button">
                        <div class="email-meta">
                            <div class="email-title">Email 6: Testimonials</div>
                            <div class="email-summary">Reinforces trust with reviews, social proof, and reassurance
                                about the buying experience.</div>
                        </div>
                        <div class="email-toggle-icon">›</div>
                    </button>
                    <div class="email-body">
                        <div class="email-body-inner">
                            <h4>Purpose</h4>
                            <p style="margin-bottom: 16px;">Reinforce trust by showing real customers and third-party
                                validation.</p>

                            <h4>Content Strategy</h4>
                            <ul>
                                <li>Brand testimonials.</li>
                                <li>Show ratings.</li>
                                <li>Highlight reviews.</li>
                            </ul>

                            <h4>Primary Goal</h4>
                            <p>Provide reassurance to anyone still unsure and help them feel confident buying for the
                                first time.</p>
                            <a class="modal-view-email-btn" data-email-desktop="./assets/yla-welcome-email-6.jpg"
                                data-email-mobile="./assets/yla-welcome-email-6-mobile.jpg"
                                data-email-subject="See What Everyone's Saying About YOUNGLA"
                                data-email-preheader="Real Reviews, Real Results">
                                View Email
                            </a>
                        </div>
                    </div>
                </article>

                <!-- Email 7 -->
                <article class="email-card">
                    <button class="email-card-header" type="button">
                        <div class="email-meta">
                            <div class="email-title">Email 7: Two Days Left</div>
                            <div class="email-summary">Gives a final reminder that the discount is expiring soon and
                                highlights products to try.</div>
                        </div>
                        <div class="email-toggle-icon">›</div>
                    </button>
                    <div class="email-body">
                        <div class="email-body-inner">
                            <h4>Purpose</h4>
                            <p style="margin-bottom: 16px;">Remind subscribers that their discount is expiring soon.</p>

                            <h4>Content Strategy</h4>
                            <ul>
                                <li>Use urgency visuals.</li>
                                <li>Product recommendations.</li>
                                <li>A small teaser for what’s coming next.</li>
                            </ul>

                            <h4>Primary Goal</h4>
                            <p>Encourage first-time purchase before the incentive expires.</p>
                            <a class="modal-view-email-btn" data-email-desktop="./assets/yla-welcome-email-7.jpg"
                                data-email-mobile="./assets/yla-welcome-email-7-mobile.jpg"
                                data-email-subject="Your 15% Off Ends in 2 Days"
                                data-email-preheader="Use code WELCOME15 before it's too late.">
                                View Email
                            </a>
                        </div>
                    </div>
                </article>

                <!-- Email 8 -->
                <article class="email-card">
                    <button class="email-card-header" type="button">
                        <div class="email-meta">
                            <div class="email-title">Email 8: Final Reminder from Founder</div>
                            <div class="email-summary">Closes the sequence with a personal note from the founder, a last
                                reminder, and a direct way to reach out.</div>
                        </div>
                        <div class="email-toggle-icon">›</div>
                    </button>
                    <div class="email-body">
                        <div class="email-body-inner">
                            <h4>Purpose</h4>
                            <p style="margin-bottom: 16px;">Close the flow with a personal, text-based message.</p>

                            <h4>Content Strategy</h4>
                            <ul>
                                <li>Simple text layout.</li>
                                <li>A warm reminder about the discount.</li>
                                <li>Give a direct way to contact support.</li>
                            </ul>

                            <h4>Primary Goal</h4>
                            <p>Give one last chance to convert and make subscribers feel supported — while also
                                maintaining list health.</p>
                            <a class="modal-view-email-btn" data-email-desktop="./assets/yla-welcome-email-8.jpg"
                                data-email-mobile="./assets/yla-welcome-email-8-mobile.jpg"
                                data-email-subject="[first name], it’s an email from our founder"
                                data-email-preheader="We want to extend your 15% off discount one more day.">
                                View Email
                            </a>
                        </div>
                    </div>
                </article>
            </div>
        </div>

        <div class="back-to-projects-container">
            <a class="back-to-projects secondary-button" href="/#projects-section">
                <span class="button-icon"><img src="./assets/back.png" alt="arrow icon"></span>
                <span class="button-text">Back to Projects</span>
            </a>
        </div>



    </section>




    <footer>
        <div class="container">
            <div class="brand"><a href="/">Malik Hall</a></div>
            <p class="email-text">Email: <a href="mailto:malikhall247@gmail.com">malikhall247@gmail.com</a></p>
            <a href="https://www.linkedin.com/in/malikhall247/" class="linkedin-social-container">
                <span class="icon"><img src="./assets/linkedin.png" alt="LinkedIn icon"></span>
                <span class="text-content">LinkedIn</span>

            </a>
        </div>
    </footer>

    <script src="app.js" defer></script>

    <!-- Accordian -->
    <script>
        // Simple accordion behavior for email cards
        const emailCards = document.querySelectorAll('.email-card');

        emailCards.forEach(card => {
            const header = card.querySelector('.email-card-header');
            const body = card.querySelector('.email-body');

            header.addEventListener('click', () => {
                const isOpen = card.classList.contains('is-open');

                // Close all others (optional; comment out this loop if you want multiple open)
                emailCards.forEach(c => {
                    c.classList.remove('is-open');
                    const b = c.querySelector('.email-body');
                    if (b) b.style.maxHeight = null;
                });

                // Toggle current
                if (!isOpen) {
                    card.classList.add('is-open');
                    body.style.maxHeight = body.scrollHeight + 'px';
                } else {
                    card.classList.remove('is-open');
                    body.style.maxHeight = null;
                }
            });
        });

        // On load, you can optionally open the first card:
        // if (emailCards[0]) {
        //   const firstBody = emailCards[0].querySelector('.email-body');
        //   emailCards[0].classList.add('is-open');
        //   firstBody.style.maxHeight = firstBody.scrollHeight + 'px';
        // }
    </script>





    <!-- Email Preview Modal -->
    <div id="emailModal" class="email-modal" aria-hidden="true">
        <div class="email-modal-backdrop"></div>

        <div class="email-modal-dialog" role="dialog" aria-modal="true" aria-labelledby="emailModalTitle">
            <button class="email-modal-close" type="button" aria-label="Close email preview">&times;</button>

            <h2 id="emailModalTitle">Email Preview</h2>

            <!-- Subject + Preheader -->
            <div class="email-modal-meta">
                <div id="emailModalSubject" class="email-modal-subject"></div>
                <div id="emailModalPreheader" class="email-modal-preheader"></div>
            </div>

            <!-- Desktop / Mobile toggle -->
            <div class="email-modal-view-toggle" aria-label="Choose email view">
                <button type="button" class="view-toggle-btn is-active" data-view="desktop">Desktop</button>
                <button type="button" class="view-toggle-btn" data-view="mobile">Mobile</button>
            </div>

            <!-- Image area -->
            <div class="email-modal-content">
                <img id="emailModalImage" src="" alt="Email preview">
            </div>
        </div>
    </div>
    <!-- MODAL JS -->
    <script>
        (function () {
            const modal = document.getElementById('emailModal');
            const modalImg = document.getElementById('emailModalImage');
            const modalSubject = document.getElementById('emailModalSubject');
            const modalPreheader = document.getElementById('emailModalPreheader');
            const closeBtn = modal.querySelector('.email-modal-close');
            const backdrop = modal.querySelector('.email-modal-backdrop');
            const viewButtons = document.querySelectorAll('.modal-view-email-btn');
            const toggleButtons = modal.querySelectorAll('.view-toggle-btn');

            let lastFocused = null;
            let currentDesktopSrc = '';
            let currentMobileSrc = '';

            function setActiveView(view) {
                toggleButtons.forEach(btn => {
                    btn.classList.toggle('is-active', btn.dataset.view === view);
                });
            }

            function showView(view) {
                const content = document.querySelector('.email-modal-content');
                if (view === 'mobile' && currentMobileSrc) {
                    modalImg.src = currentMobileSrc;
                    content.classList.remove('is-desktop-view');
                    content.classList.add('is-mobile-view');
                    setActiveView('mobile');
                } else {
                    // Default to desktop
                    modalImg.src = currentDesktopSrc;
                    content.classList.remove('is-mobile-view');
                    content.classList.add('is-desktop-view');
                    setActiveView('desktop');
                }
            }

            function openModal(desktopSrc, mobileSrc, subject, preheader) {
                if (!desktopSrc) return;

                lastFocused = document.activeElement;
                currentDesktopSrc = desktopSrc;
                currentMobileSrc = mobileSrc || '';

                // Always start on desktop
                showView('desktop');

                modalSubject.textContent = subject || '';
                modalPreheader.textContent = preheader || '';

                modal.classList.add('is-open');
                modal.setAttribute('aria-hidden', 'false');
                closeBtn.focus();
                document.body.style.overflow = 'hidden';
            }

            function closeModal() {
                modal.classList.remove('is-open');
                modal.setAttribute('aria-hidden', 'true');
                modalImg.src = '';
                currentDesktopSrc = '';
                currentMobileSrc = '';
                document.body.style.overflow = '';
                if (lastFocused && typeof lastFocused.focus === 'function') {
                    lastFocused.focus();
                }
            }

            // Attach click handlers to "View Email" buttons
            viewButtons.forEach(btn => {
                btn.addEventListener('click', function (e) {
                    e.preventDefault();
                    const desktopSrc = this.dataset.emailDesktop;
                    const mobileSrc = this.dataset.emailMobile;
                    const subject = this.dataset.emailSubject;
                    const preheader = this.dataset.emailPreheader;
                    openModal(desktopSrc, mobileSrc, subject, preheader);
                });
            });

            // Toggle Desktop / Mobile
            toggleButtons.forEach(btn => {
                btn.addEventListener('click', function () {
                    const view = this.dataset.view;
                    showView(view);
                });
            });

            // Close handlers
            closeBtn.addEventListener('click', closeModal);
            backdrop.addEventListener('click', closeModal);

            document.addEventListener('keydown', function (e) {
                if (e.key === 'Escape') {
                    closeModal();
                }
            });
        })();
    </script>
</body>

</html>